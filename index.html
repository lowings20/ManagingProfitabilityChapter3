<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gelat-oat Financial Model</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Battambang:wght@400;700&family=Public+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Gelat-oat Financial Model</h1>
      <p class="subtitle">Prepare your pitch to CEO Zena Doyle</p>
    </header>

    <!-- View Mode Toggle -->
    <div class="card view-mode-card">
      <div class="view-mode-buttons">
        <button class="view-mode-btn active" data-mode="basic" onclick="selectViewMode('basic')">
          Basic Income Statement
        </button>
        <button class="view-mode-btn" data-mode="growth" onclick="selectViewMode('growth')">
          Show Investment Toggles
        </button>
        <button class="view-mode-btn" data-mode="defensive" onclick="selectViewMode('defensive')">
          Show Cost Saving Toggles
        </button>
      </div>
    </div>

    <!-- Controls -->
    <div class="card controls-card">
      <div class="control-group">
        <label>Production Method</label>
        <div class="method-buttons">
          <button class="method-btn active" data-method="coPacker" onclick="selectMethod('coPacker')">
            <span class="method-dot copacker"></span>
            <span class="method-name">Co-Packer</span>
          </button>
          <button class="method-btn" data-method="retrofit" onclick="selectMethod('retrofit')">
            <span class="method-dot retrofit"></span>
            <span class="method-name">Retrofit</span>
          </button>
          <button class="method-btn" data-method="newPlant" onclick="selectMethod('newPlant')">
            <span class="method-dot newplant"></span>
            <span class="method-name">New Plant</span>
          </button>
        </div>
      </div>
      <div class="control-group">
        <label>Demand Scenario</label>
        <div class="demand-buttons">
          <button class="demand-btn" data-demand="low" onclick="selectDemand('low')">
            <span class="demand-label">Low</span>
            <span class="demand-value">350K</span>
          </button>
          <button class="demand-btn active" data-demand="medium" onclick="selectDemand('medium')">
            <span class="demand-label">Medium</span>
            <span class="demand-value">500K</span>
          </button>
          <button class="demand-btn" data-demand="high" onclick="selectDemand('high')">
            <span class="demand-label">High</span>
            <span class="demand-value">650K</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Income Statement -->
    <div class="card statement-card">
      <h2>Income Statement</h2>
      <div class="volume-indicator">
        <span class="volume-label">Volume:</span>
        <span class="volume-value" id="volume-display">500,000 pints</span>
        <span class="volume-price">@ $4.00/pint</span>
      </div>

      <div class="statement-table">
        <div class="statement-row revenue">
          <span class="row-label">Revenue (Pint Sales)</span>
          <span class="row-value" id="revenue">$2,000,000</span>
          <span class="row-margin" id="revenue-margin">100.0%</span>
        </div>
        <div class="statement-row expense">
          <span class="row-label">Cost of Goods Sold</span>
          <span class="row-value negative" id="cogs">($1,400,000)</span>
          <span class="row-margin"></span>
        </div>
        <div class="statement-row subtotal gross-profit">
          <span class="row-label">Gross Profit</span>
          <span class="row-value" id="gross-profit">$600,000</span>
          <span class="row-margin" id="gross-margin">30.0%</span>
        </div>

        <div class="statement-section">
          <div class="section-header">Operating Expenses</div>

          <!-- Sales & Marketing Row with Levers -->
          <div class="statement-row expense opex-row has-levers">
            <div class="row-main">
              <span class="row-label">Sales & Marketing</span>
              <span class="row-value negative" id="sm-cost">($280,000)</span>
              <span class="row-delta" id="sm-delta"></span>
            </div>
            <div class="row-levers">
              <button class="lever-toggle growth" data-lever="hireSalesperson" onclick="toggleLever('hireSalesperson')">
                <span class="lever-icon">+</span> Hire Salesperson
                <span class="lever-cost">+$80K</span>
              </button>
              <button class="lever-toggle growth" data-lever="samplingProgram" onclick="toggleLever('samplingProgram')">
                <span class="lever-icon">+</span> Sampling Program
                <span class="lever-cost">+$50K</span>
              </button>
              <button class="lever-toggle defensive" data-lever="cutSeniorSales" onclick="toggleLever('cutSeniorSales')">
                <span class="lever-icon">−</span> Cut Senior Rep
                <span class="lever-cost">−$80K</span>
              </button>
              <button class="lever-toggle defensive" data-lever="cutJuniorSales" onclick="toggleLever('cutJuniorSales')">
                <span class="lever-icon">−</span> Cut Junior Rep
                <span class="lever-cost">−$60K</span>
              </button>
            </div>
          </div>

          <!-- Brand Building & R&D Row with Levers -->
          <div class="statement-row expense opex-row has-levers">
            <div class="row-main">
              <span class="row-label">Brand Building & R&D</span>
              <span class="row-value negative" id="brand-rd-cost">($170,000)</span>
              <span class="row-delta" id="brand-rd-delta"></span>
            </div>
            <div class="row-levers">
              <button class="lever-toggle growth" data-lever="brandBuilding" onclick="toggleLever('brandBuilding')">
                <span class="lever-icon">+</span> Brand Building
                <span class="lever-cost">+$100K</span>
              </button>
              <button class="lever-toggle growth" data-lever="secondFlavor" onclick="toggleLever('secondFlavor')">
                <span class="lever-icon">+</span> Second Flavor
                <span class="lever-cost">+$60K</span>
              </button>
              <button class="lever-toggle defensive" data-lever="reduceBrandMktg" onclick="toggleLever('reduceBrandMktg')">
                <span class="lever-icon">−</span> Reduce Marketing
                <span class="lever-cost">−$80K</span>
              </button>
              <button class="lever-toggle defensive" data-lever="pauseRD" onclick="toggleLever('pauseRD')">
                <span class="lever-icon">−</span> Pause R&D
                <span class="lever-cost">−$60K</span>
              </button>
            </div>
          </div>

          <div class="statement-row expense opex-row">
            <div class="row-main">
              <span class="row-label">Plant Operations</span>
              <span class="row-value negative" id="plant-ops-cost">$0</span>
              <span class="row-delta"></span>
            </div>
          </div>
          <div class="statement-row subtotal opex-total">
            <span class="row-label">Total Operating Expenses</span>
            <span class="row-value negative" id="total-opex">($450,000)</span>
            <span class="row-margin"></span>
          </div>
        </div>

        <div class="statement-row total operating-income">
          <span class="row-label">Operating Income (EBITDA)</span>
          <span class="row-value" id="operating-income">$150,000</span>
          <span class="row-margin" id="operating-margin">7.5%</span>
        </div>
      </div>
    </div>

    <!-- Reset Button -->
    <div class="reset-section">
      <button class="btn-reset" onclick="resetAll()">Reset All Levers</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
